!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Appoint=e():t.Appoint=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){"use strict";function r(t){if(!i(t))return setTimeout(function(){},0);var e=Array.prototype.slice.call(arguments,1);return setTimeout(function(){t.apply(void 0,e)},0)}function o(){}function i(t){return"function"==typeof t}function u(t){return"object"==typeof t}function c(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t){var e=t&&t.then;if(t&&(u(t)||i(t))&&i(e)){return i(e.bind)?e.bind(t):function(n,r){return e.call(t,n,r)}}}function a(t,e,n){r(function(){var r;try{r=e(n)}catch(e){return p(t,e)}r===t?p(t,new TypeError("Cannot resolve promise with itself")):f(t,r)})}function f(t,e){try{var n=s(e);return n?l(t,n):(t.setState(h.AppointState.FULFILLED),t.value=e,t.queue.forEach(function(t){t.callFulfilled(e)})),t}catch(e){return p(t,e)}}function l(t,e){var n=!1;try{e(function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,p(t,e))})}catch(e){if(n)return;n=!0,p(t,e)}}function p(t,e){return t.setState(h.AppointState.REJECTED),t.value=e,t.handled&&r(function(){t.handled&&console.error(e)}),t.queue.forEach(function(t){t.callRejected(e)}),t}Object.defineProperty(e,"__esModule",{value:!0});var h=n(1);e.immediate=r,e.INTERNAL=o,e.isFunction=i,e.isObject=u,e.isArray=c,e.getThen=s,e.unwrap=a,e.doResolve=f,e.safelyResolveThen=l,e.doReject=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.PENDING=0]="PENDING",t[t.FULFILLED=1]="FULFILLED",t[t.REJECTED=2]="REJECTED"}(e.AppointState||(e.AppointState={}))},function(t,e,n){const r=n(3);t.exports=r.default||r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(4),i=n(1),u=function(){function t(t){if(!r.isFunction(t))throw new TypeError("resolver must be a function");this.state=i.AppointState.PENDING,this.value=void 0,this.queue=[],this.handled=!0,t!==r.INTERNAL&&r.safelyResolveThen(this,t)}return t.resolve=function(e){return e instanceof t?e:r.doResolve(new t(r.INTERNAL),e)},t.reject=function(e){return e instanceof t?e:r.doReject(new t(r.INTERNAL),e)},t.all=function(e){var n=this;if(!r.isArray(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var u=new Array(o),c=-1,s=new t(r.INTERNAL);++c<o;)!function(t,e){function c(t){u[e]=t,e!==o-1||i||(i=!0,r.doResolve(s,u))}n.resolve(t).then(c,function(t){i||(i=!0,r.doReject(s,t))})}(e[c],c);return s},t.race=function(t){var e=this;if(!r.isArray(t))return this.reject(new TypeError("must be an array"));var n=t.length,o=!1;if(!n)return this.resolve([]);for(var i=(new Array(n),-1),u=new e(r.INTERNAL);++i<n;)!function(t){e.resolve(t).then(function(t){o||(o=!0,r.doResolve(u,t))},function(t){o||(o=!0,r.doReject(u,t))})}(t[i]);return u},t.prototype.then=function(e,n){if(!r.isFunction(e)&&this.state===i.AppointState.FULFILLED||!r.isFunction(n)&&this.state===i.AppointState.REJECTED)return this;var u=new t(r.INTERNAL);if(this.handled&&(this.handled=null),this.getState()!==i.AppointState.PENDING){var c=this.getState()===i.AppointState.FULFILLED?e:n;r.unwrap(u,c,this.value)}else this.queue.push(new o.QueueItem(u,e,n));return u},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.setState=function(t){this.state===i.AppointState.PENDING&&this.state!==t&&(this.state=t)},t.prototype.getState=function(){return this.state},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(){function t(t,e,n){this.promise=t,r.isFunction(e)?this.callFulfilled=function(t){r.unwrap(this.promise,e,t)}:this.callFulfilled=function(t){r.doResolve(this.promise,t)},r.isFunction(n)?this.callRejected=function(t){r.unwrap(this.promise,n,t)}:this.callRejected=function(t){r.doReject(this.promise,t)}}return t}();e.QueueItem=o}])});