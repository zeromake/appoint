!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Appoint=e():t.Appoint=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){"use strict";function o(t){if(!i(t))return setTimeout(function(){},0);var e=Array.prototype.slice.call(arguments,1);return setTimeout(function(){t.apply(void 0,e)},0)}function r(){}function i(t){return"function"==typeof t}function u(t){return"object"==typeof t}function c(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t){var e=t&&t.then;if(t&&(u(t)||i(t))&&i(e)){return i(e.bind)?e.bind(t):function(n,o){return e.call(t,n,o)}}}function a(t,e,n){o(function(){var o;try{o=e(n)}catch(e){return p(t,e)}o===t?p(t,new TypeError("Cannot resolve promise with itself")):f(t,o)})}function f(t,e){try{var n=s(e);return n?l(t,n):(t.setState(h.AppointState.FULFILLED),t.value=e,t.queue.forEach(function(t){t.callFulfilled(e)})),t}catch(e){return p(t,e)}}function l(t,e){var n=!1;try{e(function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,p(t,e))})}catch(e){if(n)return;n=!0,p(t,e)}}function p(t,e){return t.setState(h.AppointState.REJECTED),t.value=e,t.handled&&o(function(){t.handled&&console.error(e)}),t.queue.forEach(function(t){t.callRejected(e)}),t}Object.defineProperty(e,"__esModule",{value:!0});var h=n(1);e.immediate=o,e.INTERNAL=r,e.isFunction=i,e.isObject=u,e.isArray=c,e.getThen=s,e.unwrap=a,e.doResolve=f,e.safelyResolveThen=l,e.doReject=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.PENDING=0]="PENDING",t[t.FULFILLED=1]="FULFILLED",t[t.REJECTED=2]="REJECTED"}(e.AppointState||(e.AppointState={}))},function(t,e,n){(function(e){const o=n(4),r=o.default||o;r.polyfill=function(){!function(t){"function"!=typeof t.Promise&&(t.Promise=r)}(void 0===e?window:e)},t.exports=r}).call(e,n(3))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=n(5),i=n(1),u=function(){function t(t){if(!o.isFunction(t))throw new TypeError("resolver must be a function");this.state=i.AppointState.PENDING,this.value=void 0,this.queue=[],this.handled=!0,t!==o.INTERNAL&&o.safelyResolveThen(this,t)}return t.resolve=function(e){return e instanceof t?e:o.doResolve(new t(o.INTERNAL),e)},t.reject=function(e){return e instanceof t?e:o.doReject(new t(o.INTERNAL),e)},t.all=function(e){var n=this;if(!o.isArray(e))return this.reject(new TypeError("must be an array"));var r=e.length,i=!1;if(!r)return this.resolve([]);for(var u=new Array(r),c=-1,s=new t(o.INTERNAL);++c<r;)!function(t,e){function c(t){u[e]=t,e!==r-1||i||(i=!0,o.doResolve(s,u))}n.resolve(t).then(c,function(t){i||(i=!0,o.doReject(s,t))})}(e[c],c);return s},t.race=function(t){var e=this;if(!o.isArray(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var i=(new Array(n),-1),u=new e(o.INTERNAL);++i<n;)!function(t){e.resolve(t).then(function(t){r||(r=!0,o.doResolve(u,t))},function(t){r||(r=!0,o.doReject(u,t))})}(t[i]);return u},t.prototype.then=function(e,n){if(!o.isFunction(e)&&this.state===i.AppointState.FULFILLED||!o.isFunction(n)&&this.state===i.AppointState.REJECTED)return this;var u=new t(o.INTERNAL);if(this.handled&&(this.handled=null),this.getState()!==i.AppointState.PENDING){var c=this.getState()===i.AppointState.FULFILLED?e:n;o.unwrap(u,c,this.value)}else this.queue.push(new r.QueueItem(u,e,n));return u},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.setState=function(t){this.state===i.AppointState.PENDING&&this.state!==t&&(this.state=t)},t.prototype.getState=function(){return this.state},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=function(){function t(t,e,n){this.promise=t,o.isFunction(e)?this.callFulfilled=function(t){o.unwrap(this.promise,e,t)}:this.callFulfilled=function(t){o.doResolve(this.promise,t)},o.isFunction(n)?this.callRejected=function(t){o.unwrap(this.promise,n,t)}:this.callRejected=function(t){o.doReject(this.promise,t)}}return t}();e.QueueItem=r}])});